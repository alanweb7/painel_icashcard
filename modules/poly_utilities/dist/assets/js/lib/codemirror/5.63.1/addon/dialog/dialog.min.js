var e;e=function(o){function f(n,t,i){var l=n.getWrapperElement(),n;return(n=l.appendChild(document.createElement("div"))).className=i?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?n.innerHTML=t:n.appendChild(t),o.addClass(l,"dialog-opened"),n}function p(o,n){o.state.currentNotificationClose&&o.state.currentNotificationClose(),o.state.currentNotificationClose=n}o.defineExtension("openDialog",(function(n,t,i){function u(n){"string"==typeof n?s.value=n:c||(c=!0,o.rmClass(l.parentNode,"dialog-opened"),l.parentNode.removeChild(l),d.focus(),i.onClose&&i.onClose(l))}var l,c,d,s;return i=i||{},p(this,null),l=f(this,n,i.bottom),c=!1,d=this,(s=l.getElementsByTagName("input")[0])?(s.focus(),i.value&&(s.value=i.value,!1!==i.selectValueOnOpen&&s.select()),i.onInput&&o.on(s,"input",(function(o){i.onInput(o,s.value,u)})),i.onKeyUp&&o.on(s,"keyup",(function(o){i.onKeyUp(o,s.value,u)})),o.on(s,"keydown",(function(n){i&&i.onKeyDown&&i.onKeyDown(n,s.value,u)||((27==n.keyCode||!1!==i.closeOnEnter&&13==n.keyCode)&&(s.blur(),o.e_stop(n),u()),13==n.keyCode&&t(s.value,n))})),!1!==i.closeOnBlur&&o.on(l,"focusout",(function(o){null!==o.relatedTarget&&u()}))):(n=l.getElementsByTagName("button")[0])&&(o.on(n,"click",(function(){u(),d.focus()})),!1!==i.closeOnBlur&&o.on(n,"blur",u),n.focus()),u})),o.defineExtension("openConfirm",(function(n,t,i){function a(){d||(d=!0,o.rmClass(l.parentNode,"dialog-opened"),l.parentNode.removeChild(l),s.focus())}var l,c,d,s,m,C,g;for(p(this,null),c=(l=f(this,n,i&&i.bottom)).getElementsByTagName("button"),d=!1,s=this,m=1,c[0].focus(),C=0;C<c.length;++C)g=c[C],function(n){o.on(g,"click",(function(t){o.e_preventDefault(t),a(),n&&n(s)}))}(t[C]),o.on(g,"blur",(function(){--m,setTimeout((function(){m<=0&&a()}),200)})),o.on(g,"focus",(function(){++m}))})),o.defineExtension("openNotification",(function(n,t){function r(){c||(c=!0,clearTimeout(i),o.rmClass(l.parentNode,"dialog-opened"),l.parentNode.removeChild(l))}p(this,r);var i,l=f(this,n,t&&t.bottom),c=!1,t=t&&void 0!==t.duration?t.duration:5e3;return o.on(l,"click",(function(n){o.e_preventDefault(n),r()})),t&&(i=setTimeout(r,t)),r}))},"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror);