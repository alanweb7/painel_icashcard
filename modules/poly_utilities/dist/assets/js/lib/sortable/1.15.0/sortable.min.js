var t,e;t=this,e=function(){"use strict";function e(n,s){var c,u=Object.keys(n);return Object.getOwnPropertySymbols&&(c=Object.getOwnPropertySymbols(n),s&&(c=c.filter((function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),u.push.apply(u,c)),u}function M(n){var s,c;for(s=1;s<arguments.length;s++)c=null!=arguments[s]?arguments[s]:{},s%2?e(Object(c),!0).forEach((function(s){var u,d;u=n,s=c[d=s],d in u?Object.defineProperty(u,d,{value:s,enumerable:!0,configurable:!0,writable:!0}):u[d]=s})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach((function(s){Object.defineProperty(n,s,Object.getOwnPropertyDescriptor(c,s))}));return n}function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function a(){return(a=Object.assign||function(n){var s,c,u;for(s=1;s<arguments.length;s++)for(c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(n[c]=u[c]);return n}).apply(this,arguments)}function i(n,s){var c,u,d,g;if(null==n)return{};if(u=function(n,s){if(null==n)return{};for(var c,u={},d=Object.keys(n),g=0;g<d.length;g++)c=d[g],0<=s.indexOf(c)||(u[c]=n[c]);return u}(n,s),Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(n),g=0;g<d.length;g++)c=d[g],0<=s.indexOf(c)||Object.prototype.propertyIsEnumerable.call(n,c)&&(u[c]=n[c]);return u}function r(n){return function(n){if(Array.isArray(n))return l(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,s){if(n){if("string"==typeof n)return l(n,s);var c=Object.prototype.toString.call(n).slice(8,-1);return"Map"===(c="Object"===c&&n.constructor?n.constructor.name:c)||"Set"===c?Array.from(n):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?l(n,s):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,s){(null==s||s>n.length)&&(s=n.length);for(var c=0,u=new Array(s);c<s;c++)u[c]=n[c];return u}function t(n){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(n)}function h(n,s,c){n.addEventListener(s,c,!Ot&&zt)}function f(n,s,c){n.removeEventListener(s,c,!Ot&&zt)}function p(n,s){if(s&&(">"===s[0]&&(s=s.substring(1)),n))try{if(n.matches)return n.matches(s);if(n.msMatchesSelector)return n.msMatchesSelector(s);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(s)}catch(n){return}}function N(n,s,c,u){if(n){c=c||document;do{if(null!=s&&(">"!==s[0]||n.parentNode===c)&&p(n,s)||u&&n===c)return n}while(n!==c&&(n=(d=n).host&&d!==document&&d.host.nodeType?d.host:d.parentNode))}var d;return null}function I(n,s,c){var u;n&&s&&(n.classList?n.classList[c?"add":"remove"](s):(u=(" "+n.className+" ").replace(Ut," ").replace(" "+s+" "," "),n.className=(u+(c?" "+s:"")).replace(Ut," ")))}function P(n,s,c){var u=n&&n.style;if(u){if(void 0===c)return document.defaultView&&document.defaultView.getComputedStyle?c=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(c=n.currentStyle),void 0===s?c:c[s];u[s=s in u||-1!==s.indexOf("webkit")?s:"-webkit-"+s]=c+("string"==typeof c?"":"px")}}function v(n,s){var c,u,d="";if("string"==typeof n)d=n;else do{c=P(n,"transform")}while(c&&"none"!==c&&(d=c+" "+d),!s&&(n=n.parentNode));return(u=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix)&&new u(d)}function b(n,s,c){if(n){var u=n.getElementsByTagName(s),d=0,g=u.length;if(c)for(;d<g;d++)c(u[d],d);return u}return[]}function O(){var n;return document.scrollingElement||document.documentElement}function k(n,s,c,u,d){var g,m,y,w,j,H,L,K;if(n.getBoundingClientRect||n===window){if(L=n!==window&&n.parentNode&&n!==O()?(m=(g=n.getBoundingClientRect()).top,y=g.left,w=g.bottom,j=g.right,H=g.height,g.width):(y=m=0,w=window.innerHeight,j=window.innerWidth,H=window.innerHeight,window.innerWidth),(s||c)&&n!==window&&(d=d||n.parentNode,!Ot))do{if(d&&d.getBoundingClientRect&&("none"!==P(d,"transform")||c&&"static"!==P(d,"position"))){m-=(K=d.getBoundingClientRect()).top+parseInt(P(d,"border-top-width")),y-=K.left+parseInt(P(d,"border-left-width")),w=m+g.height,j=y+g.width;break}}while(d=d.parentNode);return u&&n!==window&&(u=(s=v(d||n))&&s.a,n=s&&s.d,s&&(w=(m/=n)+(H/=n),j=(y/=u)+(L/=u))),{top:m,left:y,bottom:w,right:j,width:L,height:H}}}function R(n,s,c){var u,d,g;for(u=A(n,!0),d=k(n)[s];u;){if(g=k(u)[c],!("top"===c||"left"===c?g<=d:d<=g))return u;if(u===O())break;u=A(u,!1)}return!1}function X(n,s,c,u){for(var d=0,g=0,m=n.children;g<m.length;){if("none"!==m[g].style.display&&m[g]!==Bt.ghost&&(u||m[g]!==Bt.dragged)&&N(m[g],c.draggable,n,!1)){if(d===s)return m[g];d++}g++}return null}function Y(n,s){for(var c=n.lastElementChild;c&&(c===Bt.ghost||"none"===P(c,"display")||s&&!p(c,s));)c=c.previousElementSibling;return c||null}function B(n,s){var c=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)"TEMPLATE"===n.nodeName.toUpperCase()||n===Bt.clone||s&&!p(n,s)||c++;return c}function E(n){var s,c,u=0,d=0,g=O();if(n)do{c=(s=v(n)).a,s=s.d}while(u+=n.scrollLeft*c,d+=n.scrollTop*s,n!==g&&(n=n.parentNode));return[u,d]}function A(n,s){var c,u,d;if(!n||!n.getBoundingClientRect)return O();c=n,u=!1;do{if((c.clientWidth<c.scrollWidth||c.clientHeight<c.scrollHeight)&&(d=P(c),c.clientWidth<c.scrollWidth&&("auto"==d.overflowX||"scroll"==d.overflowX)||c.clientHeight<c.scrollHeight&&("auto"==d.overflowY||"scroll"==d.overflowY))){if(!c.getBoundingClientRect||c===document.body)return O();if(u||s)return c;u=!0}}while(c=c.parentNode);return O()}function D(n,s){return Math.round(n.top)===Math.round(s.top)&&Math.round(n.left)===Math.round(s.left)&&Math.round(n.height)===Math.round(s.height)&&Math.round(n.width)===Math.round(s.width)}function S(s,c){return function(){var u;n||(1===(u=arguments).length?s.call(this,u[0]):s.apply(this,u),n=setTimeout((function(){n=void 0}),c))}}function F(n,s,c){n.scrollLeft+=s,n.scrollTop+=c}function _(n){var s=window.Polymer,c=window.jQuery||window.Zepto;return s&&s.dom?s.dom(n).cloneNode(!0):c?c(n).clone(!0)[0]:n.cloneNode(!0)}function C(n,s){P(n,"position","absolute"),P(n,"top",s.top),P(n,"left",s.left),P(n,"width",s.width),P(n,"height",s.height)}function T(n){P(n,"position",""),P(n,"top",""),P(n,"left",""),P(n,"width",""),P(n,"height","")}function x(){var n,s=[];return{captureAnimationState:function(){s=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(n){var c,u;"none"!==P(n,"display")&&n!==Bt.ghost&&(s.push({target:n,rect:k(n)}),c=M({},s[s.length-1].rect),!n.thisAnimationDuration||(u=v(n,!0))&&(c.top-=u.f,c.left-=u.e),n.fromRect=c)}))},addAnimationState:function(n){s.push(n)},removeAnimationState:function(n){s.splice(function(n,s){var c,u;for(c in n)if(n.hasOwnProperty(c))for(u in s)if(s.hasOwnProperty(u)&&s[u]===n[c][u])return Number(c);return-1}(s,{target:n}),1)},animateAll:function(c){var u,d,g=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof c&&c());u=!1,d=0,s.forEach((function(n){var s=0,c=n.target,m=c.fromRect,y=k(c),w=c.prevFromRect,j=c.prevToRect,H=n.rect,L=v(c,!0);L&&(y.top-=L.f,y.left-=L.e),c.toRect=y,c.thisAnimationDuration&&D(w,y)&&!D(m,y)&&(H.top-y.top)/(H.left-y.left)==(m.top-y.top)/(m.left-y.left)&&(n=H,L=w,w=j,j=g.options,s=Math.sqrt(Math.pow(L.top-n.top,2)+Math.pow(L.left-n.left,2))/Math.sqrt(Math.pow(L.top-w.top,2)+Math.pow(L.left-w.left,2))*j.animation),D(y,m)||(c.prevFromRect=m,c.prevToRect=y,s=s||g.options.animation,g.animate(c,H,y,s)),s&&(u=!0,d=Math.max(d,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout((function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null}),s),c.thisAnimationDuration=s)})),clearTimeout(n),u?n=setTimeout((function(){"function"==typeof c&&c()}),d):"function"==typeof c&&c(),s=[]},animate:function(n,s,c,u){var d,g;u&&(P(n,"transition",""),P(n,"transform",""),d=(g=v(this.el))&&g.a,g=g&&g.d,d=(s.left-c.left)/(d||1),g=(s.top-c.top)/(g||1),n.animatingX=!!d,n.animatingY=!!g,P(n,"transform","translate3d("+d+"px,"+g+"px,0)"),this.forRepaintDummy=n.offsetWidth,P(n,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),P(n,"transform","translate3d(0,0,0)"),"number"==typeof n.animated&&clearTimeout(n.animated),n.animated=setTimeout((function(){P(n,"transition",""),P(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1}),u))}}}function W(n){var s,c,u,d,g=n.sortable,m=n.rootEl,y=n.name,w=n.targetEl,j=n.cloneEl,H=n.toEl,L=n.fromEl,K=n.oldIndex,G=n.newIndex,q=n.oldDraggableIndex,Q=n.newDraggableIndex,V=n.originalEvent,J=n.putSortable,Z=n.extraEventProperties;if(g=g||m&&m[Wt]){for(u in c=g.options,n="on"+y.charAt(0).toUpperCase()+y.substr(1),!window.CustomEvent||Ot||Tt?(s=document.createEvent("Event")).initEvent(y,!0,!0):s=new CustomEvent(y,{bubbles:!0,cancelable:!0}),s.to=H||m,s.from=L||m,s.item=w||m,s.clone=j,s.oldIndex=K,s.newIndex=G,s.oldDraggableIndex=q,s.newDraggableIndex=Q,s.originalEvent=V,s.pullMode=J?J.lastPutMode:void 0,d=M(M({},Z),Vt.getEventProperties(y,g)))s[u]=d[u];m&&m.dispatchEvent(s),c[n]&&c[n].call(g,s)}}function z(n,G){var Q=(V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,V=i(V,Zt);Vt.pluginEvent.bind(Bt)(n,G,M({dragEl:s,parentEl:c,ghostEl:u,rootEl:d,nextEl:g,lastDownEl:m,cloneEl:y,cloneHidden:w,dragStarted:et,putSortable:q,activeSortable:Bt.active,originalEvent:Q,oldIndex:j,oldDraggableIndex:L,newIndex:H,newDraggableIndex:K,hideGhostForTarget:kt,unhideGhostForTarget:Rt,cloneNowHidden:function(){w=!0},cloneNowShown:function(){w=!1},dispatchSortableEvent:function(n){U({sortable:G,name:n,originalEvent:Q})}},V))}function U(n){W(M({putSortable:q,cloneEl:y,targetEl:s,rootEl:d,oldIndex:j,oldDraggableIndex:L,newIndex:H,newDraggableIndex:K},n))}function Xt(n){var c,u,d,g,m,y;if(s&&(n=n.touches?n.touches[0]:n,g=n.clientX,m=n.clientY,ee.some((function(n){var s,c,u=n[Wt].options.emptyInsertThreshold;if(u&&!Y(n))return s=k(n),c=g>=s.left-u&&g<=s.right+u,u=m>=s.top-u&&m<=s.bottom+u,c&&u?y=n:void 0})),c=y)){for(u in d={},n)n.hasOwnProperty(u)&&(d[u]=n[u]);d.target=d.rootEl=c,d.preventDefault=void 0,d.stopPropagation=void 0,c[Wt]._onDragOver(d)}}function Yt(n){s&&s.parentNode[Wt]._isOutsideThisEl(n.target)}function Bt(n,s){if(!n||!n.nodeType||1!==n.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=s=a({},s),n[Wt]=this;var c,u,d={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return It(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(n,s){n.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&"PointerEvent"in window&&!At,emptyInsertThreshold:5};for(c in Vt.initializePlugins(this,n,d),d)c in s||(s[c]=d[c]);for(u in Pt(s),this)"_"===u.charAt(0)&&"function"==typeof this[u]&&(this[u]=this[u].bind(this));this.nativeDraggable=!s.forceFallback&&he,this.nativeDraggable&&(this.options.touchStartThreshold=1),s.supportPointer?h(n,"pointerdown",this._onTapStart):(h(n,"mousedown",this._onTapStart),h(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(h(n,"dragover",this),h(n,"dragenter",this)),ee.push(this.el),s.store&&s.store.get&&this.sort(s.store.get(this)||[]),a(this,x())}function Ft(n,s,c,u,d,g,m,y){var w,j,H=n[Wt],L=H.options.onMove;return!window.CustomEvent||Ot||Tt?(w=document.createEvent("Event")).initEvent("move",!0,!0):w=new CustomEvent("move",{bubbles:!0,cancelable:!0}),w.to=s,w.from=n,w.dragged=c,w.draggedRect=u,w.related=d||s,w.relatedRect=g||k(s),w.willInsertAfter=y,w.originalEvent=m,n.dispatchEvent(w),L?L.call(H,w,m):j}function jt(n){n.draggable=!1}function Ht(){le=!1}function Lt(n){return setTimeout(n,0)}function Kt(n){return clearTimeout(n)}function Qt(){ht.forEach((function(n){clearInterval(n.pid)})),ht=[]}function Jt(){clearInterval(dt)}function ne(){}function oe(){}function pe(n,s){Dt.forEach((function(c,u){(u=s.children[c.sortableIndex+(n?Number(u):0)])?s.insertBefore(c,u):s.appendChild(c)}))}function ge(){Et.forEach((function(n){n!==bt&&n.parentNode&&n.parentNode.removeChild(n)}))}var n,s,c,u,d,g,m,y,w,j,H,L,K,G,q,Q,V,J,Z,$,tt,et,nt,ot,it,rt,at,lt,st,ct,ut,dt,ht,ft,pt,gt,mt,vt,bt,yt,wt,Et,Dt,St,_t,Ct,Ot=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Tt=t(/Edge/i),xt=t(/firefox/i),At=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),Mt=t(/iP(ad|od|hone)/i),Nt=t(/chrome/i)&&t(/android/i),zt={capture:!1,passive:!1},Ut=/\s+/g,Wt="Sortable"+(new Date).getTime(),Gt=[],qt={initializeByDefault:!0},Vt={mount:function(n){for(var s in qt)!qt.hasOwnProperty(s)||s in n||(n[s]=qt[s]);Gt.forEach((function(s){if(s.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")})),Gt.push(n)},pluginEvent:function(n,s,c){var u,d=this;this.eventCanceled=!1,c.cancel=function(){d.eventCanceled=!0},u=n+"Global",Gt.forEach((function(d){s[d.pluginName]&&(s[d.pluginName][u]&&s[d.pluginName][u](M({sortable:s},c)),s.options[d.pluginName]&&s[d.pluginName][n]&&s[d.pluginName][n](M({sortable:s},c)))}))},initializePlugins:function(n,s,c,u){var d,g;for(d in Gt.forEach((function(u){var d=u.pluginName;(n.options[d]||u.initializeByDefault)&&((u=new u(n,s,n.options)).sortable=n,u.options=n.options,n[d]=u,a(c,u.defaults))})),n.options)n.options.hasOwnProperty(d)&&void 0!==(g=this.modifyOption(n,d,n.options[d]))&&(n.options[d]=g)},getEventProperties:function(n,s){var c={};return Gt.forEach((function(u){"function"==typeof u.eventProperties&&a(c,u.eventProperties.call(s[u.pluginName],n))})),c},modifyOption:function(n,s,c){var u;return Gt.forEach((function(d){n[d.pluginName]&&d.optionListeners&&"function"==typeof d.optionListeners[s]&&(u=d.optionListeners[s].call(n[d.pluginName],c))})),u}},Zt=["evt"],$t=!1,te=!1,ee=[],ie=!1,re=!1,ae=[],le=!1,se=[],ce="undefined"!=typeof document,ue=Mt,de=Tt||Ot?"cssFloat":"float",he=ce&&!Nt&&!Mt&&"draggable"in document.createElement("div"),fe=function(){if(ce){if(Ot)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto","auto"===n.style.pointerEvents}}(),It=function(n,s){var c=P(n),u=parseInt(c.width)-parseInt(c.paddingLeft)-parseInt(c.paddingRight)-parseInt(c.borderLeftWidth)-parseInt(c.borderRightWidth),d=X(n,0,s),g=X(n,1,s),m=d&&P(d),y=g&&P(g),w=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+k(d).width,n=y&&parseInt(y.marginLeft)+parseInt(y.marginRight)+k(g).width;return"flex"===c.display?"column"===c.flexDirection||"column-reverse"===c.flexDirection?"vertical":"horizontal":"grid"===c.display?c.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal":d&&m.float&&"none"!==m.float?(s="left"===m.float?"left":"right",!g||"both"!==y.clear&&y.clear!==s?"horizontal":"vertical"):d&&("block"===m.display||"flex"===m.display||"table"===m.display||"grid"===m.display||u<=w&&"none"===c[de]||g&&"none"===c[de]&&u<w+n)?"vertical":"horizontal"},Pt=function(n){function l(n,s){return function(c,u,d,g){var m=c.options.group.name&&u.options.group.name&&c.options.group.name===u.options.group.name;return!(null!=n||!s&&!m)||null!=n&&!1!==n&&(s&&"clone"===n?n:"function"==typeof n?l(n(c,u,d,g),s)(c,u,d,g):(u=(s?c:u).options.group.name,!0===n||"string"==typeof n&&n===u||n.join&&-1<n.indexOf(u)))}}var s={},c=n.group;c&&"object"==o(c)||(c={name:c}),s.name=c.name,s.checkPull=l(c.pull,!0),s.checkPut=l(c.put),s.revertClone=c.revertClone,n.group=s},kt=function(){!fe&&u&&P(u,"display","none")},Rt=function(){!fe&&u&&P(u,"display","")};return ce&&!Nt&&document.addEventListener("click",(function(n){if(te)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),te=!1}),!0),Bt.prototype={constructor:Bt,_isOutsideThisEl:function(n){this.el.contains(n)||n===this.el||(nt=null)},_getDirection:function(n,c){return"function"==typeof this.options.direction?this.options.direction.call(this,n,c,s):this.options.direction},_onTapStart:function(n){if(n.cancelable){var c=this,u=this.el,d=this.options,g=d.preventOnFilter,y=n.type,w=n.touches&&n.touches[0]||n.pointerType&&"touch"===n.pointerType&&n,H=(w||n).target,K=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||H,G=d.filter;if(function(n){var s,c,u;for(se.length=0,c=(s=n.getElementsByTagName("input")).length;c--;)(u=s[c]).checked&&se.push(u)}(u),!s&&!(/mousedown|pointerdown/.test(y)&&0!==n.button||d.disabled)&&!K.isContentEditable&&(this.nativeDraggable||!At||!H||"SELECT"!==H.tagName.toUpperCase())&&!((H=N(H,d.draggable,u,!1))&&H.animated||m===H)){if(j=B(H),L=B(H,d.draggable),"function"==typeof G){if(G.call(this,n,H,this))return U({sortable:c,rootEl:K,name:"filter",targetEl:H,toEl:u,fromEl:u}),z("filter",c,{evt:n}),void(g&&n.cancelable&&n.preventDefault())}else if(G=G&&G.split(",").some((function(s){if(s=N(K,s.trim(),u,!1))return U({sortable:c,rootEl:s,name:"filter",targetEl:H,fromEl:u,toEl:u}),z("filter",c,{evt:n}),!0})))return void(g&&n.cancelable&&n.preventDefault());d.handle&&!N(K,d.handle,u,!1)||this._prepareDragStart(n,w,H)}}},_prepareDragStart:function(n,u,y){var w,j=this,H=j.el,L=j.options,K=H.ownerDocument;y&&!s&&y.parentNode===H&&(w=k(y),d=H,c=(s=y).parentNode,g=s.nextSibling,m=y,G=L.group,Q={target:Bt.dragged=s,clientX:(u||n).clientX,clientY:(u||n).clientY},$=Q.clientX-w.left,tt=Q.clientY-w.top,this._lastX=(u||n).clientX,this._lastY=(u||n).clientY,s.style["will-change"]="all",w=function(){z("delayEnded",j,{evt:n}),Bt.eventCanceled?j._onDrop():(j._disableDelayedDragEvents(),!xt&&j.nativeDraggable&&(s.draggable=!0),j._triggerDragStart(n,u),U({sortable:j,name:"choose",originalEvent:n}),I(s,L.chosenClass,!0))},L.ignore.split(",").forEach((function(n){b(s,n.trim(),jt)})),h(K,"dragover",Xt),h(K,"mousemove",Xt),h(K,"touchmove",Xt),h(K,"mouseup",j._onDrop),h(K,"touchend",j._onDrop),h(K,"touchcancel",j._onDrop),xt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,s.draggable=!0),z("delayStart",this,{evt:n}),!L.delay||L.delayOnTouchOnly&&!u||this.nativeDraggable&&(Tt||Ot)?w():Bt.eventCanceled?this._onDrop():(h(K,"mouseup",j._disableDelayedDrag),h(K,"touchend",j._disableDelayedDrag),h(K,"touchcancel",j._disableDelayedDrag),h(K,"mousemove",j._delayedDragTouchMoveHandler),h(K,"touchmove",j._delayedDragTouchMoveHandler),L.supportPointer&&h(K,"pointermove",j._delayedDragTouchMoveHandler),j._dragStartTimer=setTimeout(w,L.delay)))},_delayedDragTouchMoveHandler:function(n){n=n.touches?n.touches[0]:n,Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){s&&jt(s),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;f(n,"mouseup",this._disableDelayedDrag),f(n,"touchend",this._disableDelayedDrag),f(n,"touchcancel",this._disableDelayedDrag),f(n,"mousemove",this._delayedDragTouchMoveHandler),f(n,"touchmove",this._delayedDragTouchMoveHandler),f(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,c){c=c||"touch"==n.pointerType&&n,!this.nativeDraggable||c?this.options.supportPointer?h(document,"pointermove",this._onTouchMove):h(document,c?"touchmove":"mousemove",this._onTouchMove):(h(s,"dragend",this),h(d,"dragstart",this._onDragStart));try{document.selection?Lt((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(n,c){var u;$t=!1,d&&s?(z("dragStarted",this,{evt:c}),this.nativeDraggable&&h(document,"dragover",Yt),u=this.options,n||I(s,u.dragClass,!1),I(s,u.ghostClass,!0),Bt.active=this,n&&this._appendGhost(),U({sortable:this,name:"start",originalEvent:c})):this._nulling()},_emulateDragOver:function(){if(V){this._lastX=V.clientX,this._lastY=V.clientY,kt();for(var n=document.elementFromPoint(V.clientX,V.clientY),c=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(V.clientX,V.clientY))!==c;)c=n;if(s.parentNode[Wt]._isOutsideThisEl(n),c)do{if(c[Wt]&&c[Wt]._onDragOver({clientX:V.clientX,clientY:V.clientY,target:n,rootEl:c})&&!this.options.dragoverBubble)break}while(c=(n=c).parentNode);Rt()}},_onTouchMove:function(n){if(Q){var s,c=(s=this.options).fallbackTolerance,d=s.fallbackOffset,g=n.touches?n.touches[0]:n,m=u&&v(u,!0),y=u&&m&&m.a,w=u&&m&&m.d,s=ue&&rt&&E(rt),y=(g.clientX-Q.clientX+d.x)/(y||1)+(s?s[0]-ae[0]:0)/(y||1),w=(g.clientY-Q.clientY+d.y)/(w||1)+(s?s[1]-ae[1]:0)/(w||1);if(!Bt.active&&!$t){if(c&&Math.max(Math.abs(g.clientX-this._lastX),Math.abs(g.clientY-this._lastY))<c)return;this._onDragStart(n,!0)}u&&(m?(m.e+=y-(J||0),m.f+=w-(Z||0)):m={a:1,b:0,c:0,d:1,e:y,f:w},m="matrix(".concat(m.a,",").concat(m.b,",").concat(m.c,",").concat(m.d,",").concat(m.e,",").concat(m.f,")"),P(u,"webkitTransform",m),P(u,"mozTransform",m),P(u,"msTransform",m),P(u,"transform",m),J=y,Z=w,V=g),n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!u){var n=this.options.fallbackOnBody?document.body:d,c=k(s,!0,ue,!0,n),g=this.options;if(ue){for(rt=n;"static"===P(rt,"position")&&"none"===P(rt,"transform")&&rt!==document;)rt=rt.parentNode;rt!==document.body&&rt!==document.documentElement?(rt===document&&(rt=O()),c.top+=rt.scrollTop,c.left+=rt.scrollLeft):rt=O(),ae=E(rt)}I(u=s.cloneNode(!0),g.ghostClass,!1),I(u,g.fallbackClass,!0),I(u,g.dragClass,!0),P(u,"transition",""),P(u,"transform",""),P(u,"box-sizing","border-box"),P(u,"margin",0),P(u,"top",c.top),P(u,"left",c.left),P(u,"width",c.width),P(u,"height",c.height),P(u,"opacity","0.8"),P(u,"position",ue?"absolute":"fixed"),P(u,"zIndex","100000"),P(u,"pointerEvents","none"),Bt.ghost=u,n.appendChild(u),P(u,"transform-origin",$/parseInt(u.style.width)*100+"% "+tt/parseInt(u.style.height)*100+"%")}},_onDragStart:function(n,c){var u=this,g=n.dataTransfer,m=u.options;z("dragStart",this,{evt:n}),Bt.eventCanceled?this._onDrop():(z("setupClone",this),Bt.eventCanceled||((y=_(s)).removeAttribute("id"),y.draggable=!1,y.style["will-change"]="",this._hideClone(),I(y,this.options.chosenClass,!1),Bt.clone=y),u.cloneId=Lt((function(){z("clone",u),Bt.eventCanceled||(u.options.removeCloneOnHide||d.insertBefore(y,s),u._hideClone(),U({sortable:u,name:"clone"}))})),c||I(s,m.dragClass,!0),c?(te=!0,u._loopId=setInterval(u._emulateDragOver,50)):(f(document,"mouseup",u._onDrop),f(document,"touchend",u._onDrop),f(document,"touchcancel",u._onDrop),g&&(g.effectAllowed="move",m.setData&&m.setData.call(u,g,s)),h(document,"drop",u),P(s,"transform","translateZ(0)")),$t=!0,u._dragStartId=Lt(u._dragStarted.bind(u,c,n)),h(document,"selectstart",u),et=!0,At&&P(document.body,"user-select","none"))},_onDragOver:function(n){function T(c,u){z(c,mt,M({evt:n,isOwner:ft,axis:w?"vertical":"horizontal",revert:y,dragRect:m,targetRect:$,canSort:pt,fromSortable:gt,target:ct,completed:O,onMove:function(c,u){return Ft(d,st,s,m,c,k(c),n,u)},changed:A},u))}function x(){T("dragOverAnimationCapture"),mt.captureAnimationState(),mt!==gt&&gt.captureAnimationState()}function O(c){return T("dragOverCompleted",{insertion:c}),c&&(ft?ht._hideClone():ht._showClone(mt),mt!==gt&&(I(s,(q||ht).options.ghostClass,!1),I(s,ut.ghostClass,!0)),q!==mt&&mt!==Bt.active?q=mt:mt===Bt.active&&q&&(q=null),gt===mt&&(mt._ignoreWhileAnimating=ct),mt.animateAll((function(){T("dragOverAnimationComplete"),mt._ignoreWhileAnimating=null})),mt!==gt&&(gt.animateAll(),gt._ignoreWhileAnimating=null)),(ct===s&&!s.animated||ct===st&&!ct.animated)&&(nt=null),ut.dragoverBubble||n.rootEl||ct===document||(s.parentNode[Wt]._isOutsideThisEl(n.target),c||Xt(n)),!ut.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),vt=!0}function A(){H=B(s),K=B(s,ut.draggable),U({sortable:mt,name:"change",toEl:st,newIndex:H,newDraggableIndex:K,originalEvent:n})}var m,y,w,j,L,Q,V,J,Z,$,tt,et,rt,at,lt,st=this.el,ct=n.target,ut=this.options,dt=ut.group,ht=Bt.active,ft=G===dt,pt=ut.sort,gt=q||ht,mt=this,vt=!1;if(!le){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),ct=N(ct,ut.draggable,st,!0),T("dragOver"),Bt.eventCanceled)return vt;if(s.contains(n.target)||ct.animated&&ct.animatingX&&ct.animatingY||mt._ignoreWhileAnimating===ct)return O(!1);if(te=!1,ht&&!ut.disabled&&(ft?pt||(y=c!==d):q===this||(this.lastPutMode=G.checkPull(this,ht,s,n))&&dt.checkPut(this,ht,s,n))){if(w="vertical"===this._getDirection(n,ct),m=k(s),T("dragOverValid"),Bt.eventCanceled)return vt;if(y)return c=d,x(),this._hideClone(),T("revert"),Bt.eventCanceled||(g?d.insertBefore(s,g):d.appendChild(s)),O(!0);if(!(L=Y(st,ut.draggable))||function(n,s,c){return c=k(Y(c.el,c.options.draggable)),s?n.clientX>c.right+10||n.clientX<=c.right&&n.clientY>c.bottom&&n.clientX>=c.left:n.clientX>c.right&&n.clientY>c.top||n.clientX<=c.right&&n.clientY>c.bottom+10}(n,w,this)&&!L.animated){if(L===s)return O(!1);if((ct=L&&st===n.target?L:ct)&&($=k(ct)),!1!==Ft(d,st,s,m,ct,$,n,!!ct))return x(),L&&L.nextSibling?st.insertBefore(s,L.nextSibling):st.appendChild(s),c=st,A(),O(!0)}else if(L&&function(n,s,c){return c=k(X(c.el,0,c.options,!0)),s?n.clientX<c.left-10||n.clientY<c.top&&n.clientX<c.right:n.clientY<c.top-10||n.clientY<c.bottom&&n.clientX<c.left}(n,w,this)){if((Q=X(st,0,ut,!0))===s)return O(!1);if($=k(ct=Q),!1!==Ft(d,st,s,m,ct,$,n,!1))return x(),st.insertBefore(s,Q),c=st,A(),O(!0)}else if(ct.parentNode===st){if($=k(ct),tt=s.parentNode!==st,et=s.animated&&s.toRect||m,lt=ct.animated&&ct.toRect||$,rt=(j=w)?et.left:et.top,dt=j?et.right:et.bottom,L=j?et.width:et.height,Q=j?lt.left:lt.top,et=j?lt.right:lt.bottom,lt=j?lt.width:lt.height,et=!(rt===Q||dt===et||rt+L/2===Q+lt/2),rt=w?"top":"left",Q=(L=R(ct,"top","top")||R(s,"top","top"))?L.scrollTop:void 0,nt!==ct&&(J=$[rt],ie=!1,re=!et&&ut.invertSwap||tt),0!==(V=function(n,c,u,d,g,m,y,w){var j=d?n.clientY:n.clientX,H=d?u.height:u.width,n=d?u.top:u.left,d=d?u.bottom:u.right,u=!1;if(!y)if(w&&it<H*g){if(ie=!ie&&(1===ot?n+H*m/2<j:j<d-H*m/2)||ie)u=!0;else if(1===ot?j<n+it:d-it<j)return-ot}else if(n+H*(1-g)/2<j&&j<d-H*(1-g)/2)return function(n){return B(s)<B(n)?1:-1}(c);return(u=u||y)&&(j<n+H*m/2||d-H*m/2<j)?n+H/2<j?1:-1:0}(n,ct,$,w,et?1:ut.swapThreshold,null==ut.invertedSwapThreshold?ut.swapThreshold:ut.invertedSwapThreshold,re,nt===ct)))for(at=B(s);(Z=c.children[at-=V])&&("none"===P(Z,"display")||Z===u););if(0===V||Z===ct)return O(!1);if(ot=V,lt=(nt=ct).nextElementSibling,tt=!1,!1!==(et=Ft(d,st,s,m,ct,$,n,tt=1===V)))return 1!==et&&-1!==et||(tt=1===et),le=!0,setTimeout(Ht,30),x(),tt&&!lt?st.appendChild(s):ct.parentNode.insertBefore(s,tt?lt:ct),L&&F(L,0,Q-L.scrollTop),c=s.parentNode,void 0===J||re||(it=Math.abs(J-k(ct)[rt])),A(),O(!0)}if(st.contains(s))return O(!1)}return!1}},_ignoreWhileAnimating:null,_offMoveEvents:function(){f(document,"mousemove",this._onTouchMove),f(document,"touchmove",this._onTouchMove),f(document,"pointermove",this._onTouchMove),f(document,"dragover",Xt),f(document,"mousemove",Xt),f(document,"touchmove",Xt)},_offUpEvents:function(){var n=this.el.ownerDocument;f(n,"mouseup",this._onDrop),f(n,"touchend",this._onDrop),f(n,"pointerup",this._onDrop),f(n,"touchcancel",this._onDrop),f(document,"selectstart",this)},_onDrop:function(n){var g=this.el,m=this.options;H=B(s),K=B(s,m.draggable),z("drop",this,{evt:n}),c=s&&s.parentNode,H=B(s),K=B(s,m.draggable),Bt.eventCanceled||(ie=re=$t=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Kt(this.cloneId),Kt(this._dragStartId),this.nativeDraggable&&(f(document,"drop",this),f(g,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),At&&P(document.body,"user-select",""),P(s,"transform",""),n&&(et&&(n.cancelable&&n.preventDefault(),m.dropBubble||n.stopPropagation()),u&&u.parentNode&&u.parentNode.removeChild(u),(d===c||q&&"clone"!==q.lastPutMode)&&y&&y.parentNode&&y.parentNode.removeChild(y),s&&(this.nativeDraggable&&f(s,"dragend",this),jt(s),s.style["will-change"]="",et&&!$t&&I(s,(q||this).options.ghostClass,!1),I(s,this.options.chosenClass,!1),U({sortable:this,name:"unchoose",toEl:c,newIndex:null,newDraggableIndex:null,originalEvent:n}),d!==c?(0<=H&&(U({rootEl:c,name:"add",toEl:c,fromEl:d,originalEvent:n}),U({sortable:this,name:"remove",toEl:c,originalEvent:n}),U({rootEl:c,name:"sort",toEl:c,fromEl:d,originalEvent:n}),U({sortable:this,name:"sort",toEl:c,originalEvent:n})),q&&q.save()):H!==j&&0<=H&&(U({sortable:this,name:"update",toEl:c,originalEvent:n}),U({sortable:this,name:"sort",toEl:c,originalEvent:n})),Bt.active&&(null!=H&&-1!==H||(H=j,K=L),U({sortable:this,name:"end",toEl:c,originalEvent:n}),this.save())))),this._nulling()},_nulling:function(){z("nulling",this),d=s=c=u=g=y=m=w=Q=V=et=H=K=j=L=nt=ot=q=G=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,se.forEach((function(n){n.checked=!0})),se.length=J=Z=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":s&&(this._onDragOver(n),function(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}(n));break;case"selectstart":n.preventDefault()}},toArray:function(){for(var n,s=[],c=this.el.children,u=0,d=c.length,g=this.options;u<d;u++)N(n=c[u],g.draggable,this.el,!1)&&s.push(n.getAttribute(g.dataIdAttr)||function(n){for(var s=n.tagName+n.className+n.src+n.href+n.textContent,c=s.length,u=0;c--;)u+=s.charCodeAt(c);return u.toString(36)}(n));return s},sort:function(n,s){var c={},u=this.el;this.toArray().forEach((function(n,s){N(s=u.children[s],this.options.draggable,u,!1)&&(c[n]=s)}),this),s&&this.captureAnimationState(),n.forEach((function(n){c[n]&&(u.removeChild(c[n]),u.appendChild(c[n]))})),s&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,s){return N(n,s||this.options.draggable,this.el,!1)},option:function(n,s){var c,u=this.options;if(void 0===s)return u[n];c=Vt.modifyOption(this,n,s),u[n]=void 0!==c?c:s,"group"===n&&Pt(u)},destroy:function(){z("destroy",this);var n=this.el;n[Wt]=null,f(n,"mousedown",this._onTapStart),f(n,"touchstart",this._onTapStart),f(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(f(n,"dragover",this),f(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),(function(n){n.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ee.splice(ee.indexOf(this.el),1),this.el=n=null},_hideClone:function(){w||(z("hideClone",this),Bt.eventCanceled||(P(y,"display","none"),this.options.removeCloneOnHide&&y.parentNode&&y.parentNode.removeChild(y),w=!0))},_showClone:function(n){"clone"===n.lastPutMode?w&&(z("showClone",this),Bt.eventCanceled||(s.parentNode!=d||this.options.group.revertClone?g?d.insertBefore(y,g):d.appendChild(y):d.insertBefore(y,s),this.options.group.revertClone&&this.animate(s,y),P(y,"display",""),w=!1)):this._hideClone()}},ce&&h(document,"touchmove",(function(n){(Bt.active||$t)&&n.cancelable&&n.preventDefault()})),Bt.utils={on:h,off:f,css:P,find:b,is:function(n,s){return!!N(n,s,n,!1)},extend:function(n,s){if(n&&s)for(var c in s)s.hasOwnProperty(c)&&(n[c]=s[c]);return n},throttle:S,closest:N,toggleClass:I,clone:_,index:B,nextTick:Lt,cancelNextTick:Kt,detectDirection:It,getChild:X},Bt.get=function(n){return n[Wt]},Bt.mount=function(){for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];(s=s[0].constructor===Array?s[0]:s).forEach((function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(Bt.utils=M(M({},Bt.utils),n.utils)),Vt.mount(n)}))},Bt.create=function(n,s){return new Bt(n,s)},ht=[],ft=!(Bt.version="1.15.0"),gt=S((function(n,s,c,u){var d,g,m,y,w,j,H,L,K,G,q,Q,V,J,Z,$,tt,et,nt,ot,it,rt,st,ct;if(s.scroll){g=(n.touches?n.touches[0]:n).clientX,m=(n.touches?n.touches[0]:n).clientY,y=s.scrollSensitivity,w=s.scrollSpeed,j=O(),H=!1,lt!==c&&(lt=c,Qt(),at=s.scroll,d=s.scrollFn,!0===at&&(at=A(c,!0))),L=0,K=at;do{if(Q=(q=k(G=K)).top,V=q.bottom,J=q.left,Z=q.right,$=q.width,tt=q.height,et=void 0,nt=void 0,ot=G.scrollWidth,it=G.scrollHeight,rt=P(G),st=G.scrollLeft,q=G.scrollTop,nt=G===j?(et=$<ot&&("auto"===rt.overflowX||"scroll"===rt.overflowX||"visible"===rt.overflowX),tt<it&&("auto"===rt.overflowY||"scroll"===rt.overflowY||"visible"===rt.overflowY)):(et=$<ot&&("auto"===rt.overflowX||"scroll"===rt.overflowX),tt<it&&("auto"===rt.overflowY||"scroll"===rt.overflowY)),st=et&&(Math.abs(Z-g)<=y&&st+$<ot)-(Math.abs(J-g)<=y&&!!st),q=nt&&(Math.abs(V-m)<=y&&q+tt<it)-(Math.abs(Q-m)<=y&&!!q),!ht[L])for(ct=0;ct<=L;ct++)ht[ct]||(ht[ct]={});ht[L].vx==st&&ht[L].vy==q&&ht[L].el===G||(ht[L].el=G,ht[L].vx=st,ht[L].vy=q,clearInterval(ht[L].pid),0==st&&0==q||(H=!0,ht[L].pid=setInterval(function(){u&&0===this.layer&&Bt.active._onTouchMove(ut);var s=ht[this.layer].vy?ht[this.layer].vy*w:0,c=ht[this.layer].vx?ht[this.layer].vx*w:0;"function"==typeof d&&"continue"!==d.call(Bt.dragged.parentNode[Wt],c,s,n,ut,ht[this.layer].el)||F(ht[this.layer].el,c,s)}.bind({layer:L}),24))),L++}while(s.bubbleScroll&&K!==j&&(K=A(K,!1)));ft=H}}),30),Nt=function(n){var s=n.originalEvent,c=n.putSortable,u=n.dragEl,d=n.activeSortable,g=n.dispatchSortableEvent,m=n.hideGhostForTarget,n=n.unhideGhostForTarget;s&&(d=c||d,m(),s=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:s,s=document.elementFromPoint(s.clientX,s.clientY),n(),d&&!d.el.contains(s)&&(g("spill"),this.onSpill({dragEl:u,putSortable:c})))},ne.prototype={startIndex:null,dragStart:function(n){n=n.oldDraggableIndex,this.startIndex=n},onSpill:function(n){var s=n.dragEl,c=n.putSortable;this.sortable.captureAnimationState(),c&&c.captureAnimationState(),(n=X(this.sortable.el,this.startIndex,this.options))?this.sortable.el.insertBefore(s,n):this.sortable.el.appendChild(s),this.sortable.animateAll(),c&&c.animateAll()},drop:Nt},a(ne,{pluginName:"revertOnSpill"}),oe.prototype={onSpill:function(n){var s=n.dragEl,n;(n=n.putSortable||this.sortable).captureAnimationState(),s.parentNode&&s.parentNode.removeChild(s),n.animateAll()},drop:Nt},a(oe,{pluginName:"removeOnSpill"}),Et=[],Dt=[],St=!1,_t=!1,Ct=!1,Bt.mount(new function(){function t(){for(var n in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===n.charAt(0)&&"function"==typeof this[n]&&(this[n]=this[n].bind(this))}return t.prototype={dragStarted:function(n){n=n.originalEvent,this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):this.options.supportPointer?h(document,"pointermove",this._handleFallbackAutoScroll):n.touches?h(document,"touchmove",this._handleFallbackAutoScroll):h(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){n=n.originalEvent,this.options.dragOverBubble||n.rootEl||this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?f(document,"dragover",this._handleAutoScroll):(f(document,"pointermove",this._handleFallbackAutoScroll),f(document,"touchmove",this._handleFallbackAutoScroll),f(document,"mousemove",this._handleFallbackAutoScroll)),Jt(),Qt(),clearTimeout(n),n=void 0},nulling:function(){ut=lt=at=ft=dt=st=ct=null,ht.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var c,u=this,d=(n.touches?n.touches[0]:n).clientX,g=(n.touches?n.touches[0]:n).clientY,m=document.elementFromPoint(d,g);ut=n,s||this.options.forceAutoScrollFallback||Tt||Ot||At?(gt(n,this.options,m,s),c=A(m,!0),!ft||dt&&d===st&&g===ct||(dt&&Jt(),dt=setInterval((function(){var m=A(document.elementFromPoint(d,g),!0);m!==c&&(c=m,Qt()),gt(n,u.options,m,s)}),10),st=d,ct=g)):this.options.bubbleScroll&&A(m,!0)!==O()?gt(n,this.options,A(m,!1),!1):Qt()}},a(t,{pluginName:"scroll",initializeByDefault:!0})}),Bt.mount(oe,ne),Bt.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(n){n=n.dragEl,pt=n},dragOverValid:function(n){var s=n.completed,c=n.target,u=n.onMove,d=n.activeSortable,g=n.changed,m=n.cancel;d.options.swap&&(n=this.sortable.el,d=this.options,c&&c!==n&&(n=pt,pt=!1!==u(c)?(I(c,d.swapClass,!0),c):null,n&&n!==pt&&I(n,d.swapClass,!1)),g(),s(!0),m())},drop:function(n){var s,c,u=n.activeSortable,d=n.putSortable,g=n.dragEl,m=d||this.sortable,y=this.options;pt&&I(pt,y.swapClass,!1),pt&&(y.swap||d&&d.options.swap)&&g!==pt&&(m.captureAnimationState(),m!==u&&u.captureAnimationState(),c=pt,n=(s=g).parentNode,y=c.parentNode,n&&y&&!n.isEqualNode(c)&&!y.isEqualNode(s)&&(d=B(s),g=B(c),n.isEqualNode(y)&&d<g&&g++,n.insertBefore(c,n.children[d]),y.insertBefore(s,y.children[g])),m.animateAll(),m!==u&&u.animateAll())},nulling:function(){pt=null}},a(t,{pluginName:"swap",eventProperties:function(){return{swapItem:pt}}})}),Bt.mount(new function(){function t(n){for(var s in this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));n.options.avoidImplicitDeselect||(n.options.supportPointer?h(document,"pointerup",this._deselectMultiDrag):(h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag))),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(s,c){var u="";Et.length&&vt===n?Et.forEach((function(n,s){u+=(s?", ":"")+n.textContent})):u=c.textContent,s.setData("Text",u)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){n=n.dragEl,bt=n},delayEnded:function(){this.isMultiDrag=~Et.indexOf(bt)},setupClone:function(n){var s,c=n.sortable;if(n=n.cancel,this.isMultiDrag){for(s=0;s<Et.length;s++)Dt.push(_(Et[s])),Dt[s].sortableIndex=Et[s].sortableIndex,Dt[s].draggable=!1,Dt[s].style["will-change"]="",I(Dt[s],this.options.selectedClass,!1),Et[s]===bt&&I(Dt[s],this.options.chosenClass,!1);c._hideClone(),n()}},clone:function(n){var s=n.sortable,c=n.rootEl,u=n.dispatchSortableEvent,n=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Et.length&&vt===s&&(pe(!0,c),u("clone"),n()))},showClone:function(n){var s=n.cloneNowShown,c=n.rootEl,n=n.cancel;this.isMultiDrag&&(pe(!1,c),Dt.forEach((function(n){P(n,"display","")})),s(),wt=!1,n())},hideClone:function(n){var s=this,c=(n.sortable,n.cloneNowHidden),n=n.cancel;this.isMultiDrag&&(Dt.forEach((function(n){P(n,"display","none"),s.options.removeCloneOnHide&&n.parentNode&&n.parentNode.removeChild(n)})),c(),wt=!0,n())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&vt&&vt.multiDrag._deselectMultiDrag(),Et.forEach((function(n){n.sortableIndex=B(n)})),Et=Et.sort((function(n,s){return n.sortableIndex-s.sortableIndex})),Ct=!0},dragStarted:function(n){var s,c=this,n=n.sortable;this.isMultiDrag&&(this.options.sort&&(n.captureAnimationState(),this.options.animation&&(Et.forEach((function(n){n!==bt&&P(n,"position","absolute")})),s=k(bt,!1,!0,!0),Et.forEach((function(n){n!==bt&&C(n,s)})),St=_t=!0)),n.animateAll((function(){St=_t=!1,c.options.animation&&Et.forEach((function(n){T(n)})),c.options.sort&&ge()})))},dragOver:function(n){var s=n.target,c=n.completed,n=n.cancel;_t&&~Et.indexOf(s)&&(c(!1),n())},revert:function(n){var s,c,u=n.fromSortable,d=n.rootEl,g=n.sortable,m=n.dragRect;1<Et.length&&(Et.forEach((function(n){g.addAnimationState({target:n,rect:_t?k(n):m}),T(n),n.fromRect=m,u.removeAnimationState(n)})),_t=!1,s=!this.options.removeCloneOnHide,c=d,Et.forEach((function(n,u){(u=c.children[n.sortableIndex+(s?Number(u):0)])?c.insertBefore(n,u):c.appendChild(n)})))},dragOverCompleted:function(n){var s,c=n.sortable,u=n.isOwner,d=n.insertion,g=n.activeSortable,m=n.parentEl,y=n.putSortable,n=this.options;d&&(u&&g._hideClone(),St=!1,n.animation&&1<Et.length&&(_t||!u&&!g.options.sort&&!y)&&(s=k(bt,!1,!0,!0),Et.forEach((function(n){n!==bt&&(C(n,s),m.appendChild(n))})),_t=!0),u||(_t||ge(),1<Et.length?(u=wt,g._showClone(c),g.options.animation&&!wt&&u&&Dt.forEach((function(n){g.addAnimationState({target:n,rect:yt}),n.fromRect=yt,n.thisAnimationDuration=null}))):g._showClone(c)))},dragOverAnimationCapture:function(n){var s=n.dragRect,c=n.isOwner,n=n.activeSortable;Et.forEach((function(n){n.thisAnimationDuration=null})),n.options.animation&&!c&&n.multiDrag.isMultiDrag&&(yt=a({},s),s=v(bt,!0),yt.top-=s.f,yt.left-=s.e)},dragOverAnimationComplete:function(){_t&&(_t=!1,ge())},drop:function(n){var s,c,u,d,g,m,y,w,j=n.originalEvent,H=n.rootEl,L=n.parentEl,K=n.sortable,G=n.dispatchSortableEvent,q=n.oldIndex,Q=n.putSortable,V=Q||this.sortable;if(j){if(d=this.options,g=L.children,!Ct)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(bt,d.selectedClass,!~Et.indexOf(bt)),~Et.indexOf(bt))Et.splice(Et.indexOf(bt),1),mt=null,W({sortable:K,rootEl:H,name:"deselect",targetEl:bt,originalEvent:j});else{if(Et.push(bt),W({sortable:K,rootEl:H,name:"select",targetEl:bt,originalEvent:j}),j.shiftKey&&mt&&K.el.contains(mt)){if(m=B(mt),n=B(bt),~m&&~n&&m!==n)for(w=m<n?(y=m,n):(y=n,m+1);y<w;y++)~Et.indexOf(g[y])||(I(g[y],d.selectedClass,!0),Et.push(g[y]),W({sortable:K,rootEl:H,name:"select",targetEl:g[y],originalEvent:j}))}else mt=bt;vt=V}Ct&&this.isMultiDrag&&(_t=!1,(L[Wt].options.sort||L!==H)&&1<Et.length&&(s=k(bt),c=B(bt,":not(."+this.options.selectedClass+")"),!St&&d.animation&&(bt.thisAnimationDuration=null),V.captureAnimationState(),St||(d.animation&&(bt.fromRect=s,Et.forEach((function(n){var c;n.thisAnimationDuration=null,n!==bt&&(c=_t?k(n):s,n.fromRect=c,V.addAnimationState({target:n,rect:c}))}))),ge(),Et.forEach((function(n){g[c]?L.insertBefore(n,g[c]):L.appendChild(n),c++})),q===B(bt)&&(u=!1,Et.forEach((function(n){n.sortableIndex!==B(n)&&(u=!0)})),u&&G("update"))),Et.forEach((function(n){T(n)})),V.animateAll()),vt=V),(H===L||Q&&"clone"!==Q.lastPutMode)&&Dt.forEach((function(n){n.parentNode&&n.parentNode.removeChild(n)}))}},nullingGlobal:function(){this.isMultiDrag=Ct=!1,Dt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),f(document,"pointerup",this._deselectMultiDrag),f(document,"mouseup",this._deselectMultiDrag),f(document,"touchend",this._deselectMultiDrag),f(document,"keydown",this._checkKeyDown),f(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(void 0!==Ct&&Ct||vt!==this.sortable||n&&N(n.target,this.options.draggable,this.sortable.el,!1)||n&&0!==n.button))for(;Et.length;){var s=Et[0];I(s,this.options.selectedClass,!1),Et.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[Wt];s&&s.options.multiDrag&&!~Et.indexOf(n)&&(vt&&vt!==s&&(vt.multiDrag._deselectMultiDrag(),vt=s),I(n,s.options.selectedClass,!0),Et.push(n))},deselect:function(n){var s=n.parentNode[Wt],c=Et.indexOf(n);s&&s.options.multiDrag&&~c&&(I(n,s.options.selectedClass,!1),Et.splice(c,1))}},eventProperties:function(){var n=this,s=[],c=[];return Et.forEach((function(u){var d;s.push({multiDragElement:u,index:u.sortableIndex}),d=_t&&u!==bt?-1:_t?B(u,":not(."+n.options.selectedClass+")"):B(u),c.push({multiDragElement:u,index:d})})),{items:r(Et),clones:[].concat(Dt),oldIndicies:s,newIndicies:c}},optionListeners:{multiDragKey:function(n){return"ctrl"===(n=n.toLowerCase())?n="Control":1<n.length&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}),Bt},"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e();