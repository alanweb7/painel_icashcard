!function(t){"use strict";function polyBindHotKey(i,e){var c="";i.forEach((function(i){c+=t("#".concat(i)).val()+"+"})),c=c.slice(0,-1),t("#"+e).val(c)}function addToListAccessMenu(t){poly_quick_access_menu.push({icon:t.icon,index:t.index,title:t.title,link:t.link,target:t.target,rel:t.rel,shortcut_key:t.shortcut_key})}function initListQuickAccessInformation(){var i;poly_quick_access_menu=[],myListItem.querySelectorAll("[data-icon][data-index][data-title][data-link][data-shortcut_key][data-target][data-rel]").forEach((function(i){var e=t(i).data("index");i.dataset.shortcut_key=t("#poly_utilities_quick_access_shortcut_key_".concat(e)).val(),i.dataset.title=t("#poly_utilities_quick_access_title_".concat(e)).val(),i.dataset.link=t("#poly_utilities_quick_access_link_".concat(e)).val(),i.dataset.target=t("#poly_utilities_quick_access_link_target_".concat(e)).val(),i.dataset.rel=t("#poly_utilities_quick_access_link_rel_".concat(e)).val(),i.dataset.icon=t("#mn_icon-".concat(e)).val(),addToListAccessMenu(i.dataset)})),t.post(admin_url+"poly_utilities/update_quick_access_menu",{data:poly_quick_access_menu}).done((function(t){PolyMessage.displayNotification(t.status,t.message)}))}var i,e,c,o;PolyOperationFunctions.DisableReload(),i={},i={poly_utilities_quick_access_title:"required",poly_utilities_quick_access_shortcut_key:"required",poly_utilities_quick_access_link:"required"},appValidateForm(t(".quick_access-form"),i),e=PolyCommon.fontAwesome(),c=PolyCommon.fontAwesomeName(),polyBindHotKey(["poly_utilities_quick_access_shortcut_key_pre","poly_utilities_quick_access_shortcut_key_last"],"poly_utilities_quick_access_shortcut_key"),t(".poly-hotkey").on("change",(function(){var i="poly_utilities_quick_access_shortcut_key",e="poly_utilities_quick_access_shortcut_key_pre",c="poly_utilities_quick_access_shortcut_key_last",o=t(this).data("id");o&&(i="".concat(i,"_").concat(o),e="".concat(e,"_").concat(o),c="".concat(c,"_").concat(o)),polyBindHotKey([e,c],i)})),t(".btn-submit-poly-utilities").on("click",(function(){var i;t(".quick_access-form").valid()&&t.post(admin_url+"poly_utilities/save_quick_access",{icon:t("#poly_utilities_quick_access_icon").val(),title:t("#poly_utilities_quick_access_title").val(),link:t("#poly_utilities_quick_access_link").val(),shortcut_key:t("#poly_utilities_quick_access_shortcut_key").val(),target:t("#poly_utilities_quick_access_link_target").val(),rel:t("#poly_utilities_quick_access_link_rel").val()}).done((function(t){var i=t;i.title="Alert",i.showCloseButton=!0,i.showCancelButton=!0,i.showConfirmButton=!0,PolyPopup.popup(i,!0)}))})),t(".btn-submit-manage-poly-utilities").on("click",(function(){initListQuickAccessInformation()})),document.getElementById("myListItem")&&Sortable.create(myListItem,{handle:".poly-handle",multiDrag:!0,selectedClass:"selected",filter:".layer-locked",fallbackTolerance:3,animation:150,onEnd:function onEnd(t){initListQuickAccessInformation()}}),t(".poly-quick-access-menu-delete").on("click",(function(){var i={};i.link=t(this).data("link"),Swal.fire({title:poly_utilities_settings.popup_delete.header,text:poly_utilities_settings.popup_delete.message,showCancelButton:!0,confirmButtonColor:poly_utilities_settings.popup_delete.confirm_color,cancelButtonColor:poly_utilities_settings.popup_delete.cancel_color,cancelButtonText:poly_utilities_settings.popup_delete.cancel,confirmButtonText:poly_utilities_settings.popup_delete.confirm,allowOutsideClick:!1}).then((function(e){e.isConfirmed&&t.post(admin_url+"poly_utilities/delete_quick_access",i).done((function(t){window.location.reload()}))}))})),t(".toggle-menu-options").on("click",(function(i){i.preventDefault();var e=t(this).parents("li").data("id");t(this).hasClass("main-item-options")?t(this).parents("li").find('.main-item-options[data-menu-options="'+e+'"]').slideToggle():t(this).parents("li").find('.sub-item-options[data-menu-options="'+e+'"]').slideToggle()})),o='<div class="row"><div class="text-center"><i class="poly-utilities-preview-icon fa-solid fa-shield-halved fa-fw fa-2x"></i></div><input type="text" data-id="_POLYDATAID_" class="poly-utilities-icon form-control" placeholder="Search icons" aria-label="font-awesome" aria-describedby="basic-addon1"></div><div class="poly-utilties-list-icons">',e.forEach((function(t){o+='<div class="col-xs-3 text-center icon"><div class="wrap"><i data-id="_POLYDATAID_" class="fa-2x '+t+'"></i></div></div>'})),o+="</div>",t(document).on("input keyup",".poly-utilities-icon",(function(i){var o,s=t(this).val().toLowerCase(),l=c.reduce((function(t,i,e){return i.includes(s)&&t.push(e),t}),[]),a="";l.forEach((function(t){var i=e[t];a+='<div class="col-xs-3 text-center icon"><div class="wrap"><i data-id="_POLYDATAID_" class="fa-2x '+i+'"></i></div></div>'})),""!==a&&(o=t(this).attr("data-id"),a=a.replace(/_POLYDATAID_/g,o),t(".poly-utilties-list-icons").html(a))})),t(document).on("click",(function(i){t(i.target).closest(".poly-utilities-icon-selected").length||t(i.target).closest(".poly-popover-icons").length||t(".poly-utilities-icon-selected").popover("hide")})),t(".poly-utilities-icon-selected").popover({html:!0,content:function content(){var i=o.replace(/_POLYDATAID_/g,t(this).attr("data-id"));return'<div class="poly-popover-icons" data-id="'.concat(t(this).attr("data-id"),'">').concat(i,"</div>")},placement:"bottom",trigger:"manual"}).on("click",(function(){t(this).popover("toggle")})),t(document).on("click",".poly-popover-icons i",(function(){var i=t(this).attr("class"),e=t(this).attr("data-id"),c=i.replace(/\bfa-2x\b/g,"");t(".poly-utilities-preview-icon").attr("class","poly-utilities-preview-icon ".concat(i)),t(".poly-utilities-input-icon").val(c),t(".poly-utilities-preview-icon-select").attr("class","poly-utilities-preview-icon-select ".concat(c)),t(".poly-utilities-preview-icon-".concat(e," .poly-utilities-preview-icon-selected")).attr("class","poly-utilities-preview-icon-selected ".concat(c)),t(".poly-utilities-icons.input_".concat(e)).val(c)}))}(jQuery);